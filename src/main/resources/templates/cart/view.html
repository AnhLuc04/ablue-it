<!--&lt;!&ndash; cart/view.html &ndash;&gt;-->
<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <title>Gi·ªè h√†ng</title>-->
<!--  <style>-->
<!--        .cart-container {-->
<!--            width: 80%;-->
<!--            margin: auto;-->
<!--            font-family: Arial, sans-serif;-->
<!--        }-->
<!--        .cart-header {-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            padding: 10px 0;-->
<!--            border-bottom: 2px solid #f0f0f0;-->
<!--            font-weight: bold;-->
<!--        }-->
<!--        .cart-item {-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            padding: 15px 0;-->
<!--            border-bottom: 1px solid #e0e0e0;-->
<!--        }-->
<!--        .cart-item img {-->
<!--            width: 80px;-->
<!--            height: auto;-->
<!--            margin-right: 15px;-->
<!--        }-->
<!--        .cart-column {-->
<!--            flex: 1;-->
<!--            padding: 0 10px;-->
<!--        }-->
<!--        .cart-actions {-->
<!--            margin-top: 20px;-->
<!--            text-align: right;-->
<!--        }-->
<!--        .btn {-->
<!--            padding: 8px 16px;-->
<!--            border: none;-->
<!--            background-color: #ee4d2d;-->
<!--            color: white;-->
<!--            cursor: pointer;-->
<!--            margin-left: 10px;-->
<!--        }-->
<!--        .btn:hover {-->
<!--            background-color: #d94424;-->
<!--        }-->
<!--        .total-section {-->
<!--            text-align: right;-->
<!--            font-size: 18px;-->
<!--            font-weight: bold;-->
<!--            margin-top: 20px;-->
<!--        }-->
<!--        input[type=checkbox] {-->
<!--            transform: scale(1.2);-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="cart-container">-->
<!--  <h2>üõí Gi·ªè h√†ng c·ªßa b·∫°n</h2>-->

<!--  <div class="cart-header">-->
<!--    <div style="width: 30px;"><input type="checkbox" /></div>-->
<!--    <div class="cart-column">S·∫£n ph·∫©m</div>-->
<!--    <div class="cart-column">Gi√°</div>-->
<!--    <div class="cart-column">S·ªë l∆∞·ª£ng</div>-->
<!--    <div class="cart-column">T·ªïng</div>-->
<!--    <div class="cart-column">Xo√°</div>-->
<!--  </div>-->

<!--  <div th:each="item : ${cart.items}" class="cart-item">-->
<!--    <div style="width: 30px;"><input type="checkbox" name="selected" /></div>-->
<!--    <div class="cart-column" style="display: flex; align-items: center;">-->
<!--      <img th:src="${item.product.imageUrl}" alt="·∫¢nh s·∫£n ph·∫©m" />-->
<!--      <span th:text="${item.product.name}"></span>-->
<!--    </div>-->
<!--    <div class="cart-column" th:text="${#numbers.formatDecimal(item.product.price, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'"></div>-->
<!--    <div class="cart-column" th:text="${item.quantity}"></div>-->
<!--    <div class="cart-column" th:text="${#numbers.formatDecimal(item.quantity * item.product.price, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'"></div>-->
<!--    <div class="cart-column">-->
<!--      <form method="post" th:action="@{/cart/remove}">-->
<!--        <input type="hidden" name="itemId" th:value="${item.id}" />-->
<!--        <button class="btn" type="submit">Xo√°</button>-->
<!--      </form>-->
<!--    </div>-->
<!--  </div>-->

<!--  <div class="total-section">-->
<!--    T·ªïng ti·ªÅn: <span th:text="${#numbers.formatDecimal(cart.total, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'"></span>-->
<!--  </div>-->

<!--  <div class="cart-actions">-->
<!--    <button class="btn">Ch·ªçn t·∫•t c·∫£</button>-->
<!--    <button class="btn">C·∫≠p nh·∫≠t</button>-->
<!--    <button class="btn">Thanh to√°n</button>-->
<!--  </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->

















<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Gi·ªè h√†ng</title>
  <style>
    .cart-container {
      width: 80%;
      margin: auto;
      font-family: Arial, sans-serif;
    }
    .cart-header {
      display: flex;
      align-items: center;
      padding: 10px 0;
      border-bottom: 2px solid #f0f0f0;
      font-weight: bold;
    }
    .cart-item {
      display: flex;
      align-items: center;
      padding: 15px 0;
      border-bottom: 1px solid #e0e0e0;
    }
    .cart-item img {
      width: 80px;
      height: auto;
      margin-right: 15px;
    }
    .cart-column {
      flex: 1;
      padding: 0 10px;
    }
    .cart-actions {
      margin-top: 20px;
      text-align: right;
    }
    .btn {
      padding: 8px 16px;
      border: none;
      background-color: #ee4d2d;
      color: white;
      cursor: pointer;
      margin-left: 10px;
    }
    .btn:hover {
      background-color: #d94424;
    }
    .total-section {
      text-align: right;
      font-size: 18px;
      font-weight: bold;
      margin-top: 20px;
    }
    input[type=checkbox] {
      transform: scale(1.2);
    }
    .discount-form {
      margin-top: 30px;
      text-align: right;
    }
    .discount-form input[type=text] {
      padding: 6px 10px;
      width: 200px;
    }
    .message {
      color: green;
      margin-top: 10px;
    }
    .error {
      color: red;
      margin-top: 10px;
    }
  </style>
</head>
<body>
<div class="cart-container">
  <h2>üõí Gi·ªè h√†ng c·ªßa b·∫°n</h2>

  <!-- Header -->
  <div class="cart-header">
    <div style="width: 30px;"><input type="checkbox" /></div>
    <div class="cart-column">S·∫£n ph·∫©m</div>
    <div class="cart-column">Gi√°</div>
    <div class="cart-column">S·ªë l∆∞·ª£ng</div>
    <div class="cart-column">T·ªïng</div>
    <div class="cart-column">Xo√°</div>
  </div>

  <!-- Items -->
  <div th:each="item : ${cart.items}" class="cart-item">
    <div style="width: 30px;"><input type="checkbox" name="selected" /></div>
    <div class="cart-column" style="display: flex; align-items: center;">
      <img th:src="${item.product.imageUrl}" alt="·∫¢nh s·∫£n ph·∫©m" />
      <span th:text="${item.product.name}"></span>
    </div>
    <div class="cart-column" th:text="${#numbers.formatDecimal(item.product.price, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'"></div>
    <div class="cart-column" th:text="${item.quantity}"></div>
    <div class="cart-column" th:text="${#numbers.formatDecimal(item.quantity * item.product.price, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'"></div>
    <div class="cart-column">
      <form method="post" th:action="@{/cart/remove}">
        <input type="hidden" name="itemId" th:value="${item.id}" />
        <button class="btn" type="submit">Xo√°</button>
      </form>
    </div>
  </div>

  <!-- Discount Code -->
  <div class="discount-form">
    <form method="post" th:action="@{/cart/apply-discount}">
      <input type="text" name="code" placeholder="Nh·∫≠p m√£ gi·∫£m gi√°" required />
      <button type="submit" class="btn">√Åp d·ª•ng</button>
    </form>

    <div th:if="${discountApplied}" class="message">
      ‚úÖ M√£ gi·∫£m gi√° ƒë√£ √°p d·ª•ng:
      <span th:text="${isPercentage ? 'Gi·∫£m ' + discountAmount + '%' : 'Gi·∫£m ' + #numbers.formatDecimal(discountAmount, 0, 'COMMA', 0, 'POINT') + ' ‚Ç´'}"></span><br/>
      <strong>T·ªïng sau gi·∫£m: </strong>
      <span th:text="${#numbers.formatDecimal(discountedTotal, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'"></span>
    </div>

    <div th:if="${discountError}" class="error">
      ‚ùå <span th:text="${discountError}"></span>
    </div>
  </div>

  <!-- T·ªïng ti·ªÅn -->
  <div class="total-section">
    T·ªïng ti·ªÅn: <span th:text="${#numbers.formatDecimal(cart.total, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'"></span>
  </div>

  <!-- Actions -->
  <div class="cart-actions">
    <button class="btn">Ch·ªçn t·∫•t c·∫£</button>
    <button class="btn">C·∫≠p nh·∫≠t</button>
    <button class="btn">Thanh to√°n</button>
  </div>
</div>
</body>
</html>
